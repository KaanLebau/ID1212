<!-- index.html -->
<!DOCTYPE html>
<html>

<head>
  <title>Welcome to Guessing Game!</title>
</head>

<body>
  <h1>Welcome to Guessing Game!</h1>
  <form id="dataForm">
    <input type="text" id="textInput" placeholder="Enter the number">
    <input type="submit" value="Is it?">
  </form>
  <div id="additionalData">
    <!-- Additional Data Placeholder -->
  </div>
  <button id="newGame" hidden>New Game</button>
  <script>
    document.getElementById('dataForm').addEventListener('submit', function (event) {
      event.preventDefault();
      var inputValue = document.getElementById('textInput').value;

      // Send a POST request with the entered text to the server
      fetch('/', {
        method: 'POST',
        body: inputValue,
        headers: {
          'Content-Type': 'text/plain'
        }
      }).then(response => response.text())
        .then(text => {
          // Update the "additionalData" div
          document.getElementById('additionalData').innerHTML = text;
          if(text.startsWith("Success")){
            console.log("Success");
            document.getElementById("newGame").style.visibility = "visible";
          }
        }).catch(error => {
          // Handle any errors that occurred during fetch
          console.error('Error:', error);
        });

      document.getElementById('newGame').addEventListener('click', function (event) {
        console.log("New Game button pressed.")
        // Send a POST request with the entered text to the server
        fetch('/new-game', {
          method: 'GET',
        }).then(response => window.location.reload());
      });
    });


  </script>
</body>

</html>